name: Keep Render file-store-dapp Awake

on:
  schedule:
    - cron: "*/10 * * * *"     # every 10 minutes
  workflow_dispatch:            # manual trigger option

jobs:
  ping-render-service:
    runs-on: ubuntu-latest

    steps:
      - name: Ping file-store-dapp Health Endpoint
        run: |
          URL="https://file-store-dapp.onrender.com/health"
          RESPONSE=$(curl -s -o /dev/null -w "%{http_code}" "$URL")
          echo "Pinged $URL â€” Response code: $RESPONSE"

          if [ "$RESPONSE" -ne 200 ]; then
            echo "Warning: Service returned non-200 response."
          fi
